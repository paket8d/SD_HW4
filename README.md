# KPO 4: Распределенная система электронной коммерции

## Основной функционал

1.  **Управление заказами (Order Service):**
    *   Создание заказа пользователем.
    *   Хранение истории заказов.
    *   Асинхронная отправка событий о создании заказа.
    *   Обработка результатов оплаты и обновление статуса заказа.

2.  **Обработка платежей (Payment Service):**
    *   Ведение счетов пользователей (создание, пополнение, просмотр баланса).
    *   Асинхронное списание средств при поступлении заказа.
    *   Гарантированная отправка результата операции (успех/неудача) обратно в сервис заказов.

3.  **API Gateway:**
    *   Единая точка входа для всех запросов (Routing).
    *   Проксирование запросов к соответствующим микросервисам.
    *   Единый Swagger UI (опционально).

4.  **Frontend (Web UI):**
    *   Веб-интерфейс для взаимодействия с системой.
    *   Возможность создавать аккаунты, пополнять баланс, создавать и просматривать заказы.
    *   Работает через API Gateway.

## Архитектура и технологии

*   **Платформа:** .NET 8 / ASP.NET Core
*   **Архитектурный стиль:** Микросервисы
*   **Межсервисное взаимодействие:**
    *   Асинхронное: RabbitMQ (MassTransit)
    *   Паттерны надежности: Transactional Outbox, Inbox (Idempotent Consumer)
*   **База данных:** PostgreSQL (Entity Framework Core)
*   **API Gateway:** Собственная реализация на базе YARP / Proxy Middleware
*   **Frontend:** HTML/JS + Nginx
*   **Контейнеризация:** Docker, Docker Compose

## Структура решения

*   `OrdersService` — микросервис заказов.
*   `PaymentsService` — микросервис платежей.
*   `ApiGateway` — шлюз API.
*   `Frontend` — веб-интерфейс (статический сайт).
*   `Contracts` — общая библиотека с контрактами сообщений (RabbitMQ).
